<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Kotlin Playground examples</title>
</head>
<body style="background-color:#353535; color:#9da8aa">
<h1 style="font-size: 1.5em">Kotlin Playground examples</h1>    
<section id="container" style="max-width:500px;">
<script src="https://unpkg.com/kotlin-playground@1" theme="darcula"></script>
<script>
function insertKotlinCodeBlock(title, code){
    document.getElementById('container').insertAdjacentHTML(
        'beforeend',
        `<h2 style="font-size: 1.2em">${title}</h2>`
    );
    
    document.getElementById('container').insertAdjacentHTML(
        'beforeend',
        `<div class="kotlin-code"><pre><code class="hljs language-kotlin" theme="darcula" data-target-platform="jvm" folded-button="false">${code}.replace('<','&lt;').replace('>','&gt;')</code></pre></div>`
    );
  
    KotlinPlayground('code');
}

function getCodeIntoMainFun(code) {
    return `fun main(args: Array&lt;String&gt;) {\n//sampleStart\n${code}\n//sampleEnd\n}`  
}
    
fetch("FirstExample.kt")
    .then( response => response.text() )
    .then( text => insertKotlinCodeBlock("The first demo", getCodeIntoMainFun(text)) )
    
fetch("SecondExample.kt")
    .then( response => response.text() )
    .then( text => insertKotlinCodeBlock("The second demo", getCodeIntoMainFun(text)) )    
    
</script>
</section> 
</body>
</html>
